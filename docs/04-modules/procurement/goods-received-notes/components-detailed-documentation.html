<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goods Received Note Module - Detailed Component Documentation - Carmen ERP Documentation</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/marked-mermaid@latest/dist/css/marked-mermaid.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked@latest/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@latest/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2563eb;
            --secondary: #64748b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg-light: #f8fafc;
            --bg-white: #ffffff;
            --text-primary: #0f172a;
            --text-secondary: #64748b;
            --border: #e2e8f0;
            --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: var(--bg-light);
            color: var(--text-primary);
            line-height: 1.6;
            padding: 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: var(--primary);
            color: white;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }

        .breadcrumb {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }

        .breadcrumb a {
            color: var(--primary);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .back-link {
            display: inline-block;
            color: var(--primary);
            text-decoration: none;
            margin-bottom: 1rem;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .content {
            background: var(--bg-white);
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: var(--shadow);
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        h2 {
            font-size: 1.5rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border);
            color: var(--text-primary);
        }

        h3 {
            font-size: 1.25rem;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
        }

        h4 {
            font-size: 1.125rem;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        p {
            margin-bottom: 1rem;
        }

        a {
            color: var(--primary);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        code {
            background: var(--bg-light);
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-size: 0.875em;
            font-family: 'Monaco', 'Courier New', monospace;
        }

        pre {
            background: var(--text-primary);
            color: #f8fafc;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        pre code {
            background: none;
            padding: 0;
            color: inherit;
        }

        ul, ol {
            margin: 1rem 0;
            padding-left: 2rem;
        }

        li {
            margin: 0.5rem 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border: 1px solid var(--border);
        }

        th {
            background: var(--bg-light);
            font-weight: 600;
        }

        blockquote {
            border-left: 4px solid var(--primary);
            padding-left: 1rem;
            margin: 1rem 0;
            color: var(--text-secondary);
        }

        img {
            max-width: 100%;
            height: auto;
            border-radius: 0.5rem;
            margin: 1rem 0;
        }

        .mermaid {
            margin: 1.5rem 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="section-badge">Application Modules</div>
        <div class="breadcrumb"><a href="../../index.html">Documentation</a> / <a href="../index.html">Application Modules</a> / Procurement / Goods Received Notes</div>
        <a href="../../index.html" class="back-link">‚Üê Back to Documentation Home</a>
        <div class="content" id="markdown-content"></div>
    </div>
    <script>
        const markdownContent = "# Goods Received Note Module - Detailed Component Documentation\n\n## Table of Contents\n1. [Page Components](#page-components)\n2. [Form Components](#form-components)\n3. [Dialog Components](#dialog-components)\n4. [Tab Components](#tab-components)\n5. [Utility Components](#utility-components)\n6. [Data Components](#data-components)\n7. [Component Interactions](#component-interactions)\n\n## Page Components\n\n### 1. GoodsReceivedNotePage\n**File:** `app/(main)/procurement/goods-received-note/page.tsx`\n\n**Purpose:** Main landing page for GRN module with list management and creation workflows\n\n**Key Features:**\n- **View Mode Toggle**: Switch between table and card layouts\n- **New GRN Dropdown**: Dual creation paths (PO-based and manual)\n- **Process Type Management**: Handles creation workflow routing\n- **Zustand Integration**: Manages global GRN creation state\n\n**State Management:**\n```typescript\nconst [processType, setProcessType] = useState<'po' | 'manual' | null>(null)\nconst [viewMode, setViewMode] = useState<'table' | 'card'>('table')\nconst { setNewlyCreatedGRNData } = useGRNCreationStore()\n```\n\n**Creation Flow Logic:**\n```typescript\nconst handleProcessSelection = (type: 'po' | 'manual') => {\n  setProcessType(type);\n  if (type === 'po') {\n    router.push('/procurement/goods-received-note/new/vendor-selection');\n  } else { // Manual creation\n    const tempId = `new-${uuidv4()}`;\n    const placeholderData: GoodsReceiveNote = {\n      id: tempId,\n      ref: 'NEW GRN',\n      // ... comprehensive placeholder structure\n    };\n    setNewlyCreatedGRNData(placeholderData);\n    router.push(`/procurement/goods-received-note/${tempId}?mode=confirm`);\n  }\n}\n```\n\n**Dropdown Menu Options:**\n- **Create from Purchase Order**: Initiates vendor selection workflow\n- **Create Manually**: Direct creation with placeholder data\n\n### 2. VendorSelectionPage\n**File:** `app/(main)/procurement/goods-received-note/new/vendor-selection/page.tsx`\n\n**Purpose:** Vendor selection interface for PO-based GRN creation\n\n**Key Features:**\n- **Vendor Search**: Real-time filtering by company name or registration number\n- **Table Display**: Business registration details and selection actions\n- **Store Integration**: Updates global creation state\n\n**State Management:**\n```typescript\nconst [vendors, setVendors] = useState<Vendor[]>([])\nconst [filteredVendors, setFilteredVendors] = useState<Vendor[]>([])\nconst [searchTerm, setSearchTerm] = useState('')\nconst [isLoading, setIsLoading] = useState(true)\n```\n\n**Search Implementation:**\n```typescript\nuseEffect(() => {\n  const lowerCaseSearch = searchTerm.toLowerCase();\n  const results = vendors.filter(vendor =>\n    (vendor.companyName?.toLowerCase() || '').includes(lowerCaseSearch) ||\n    (vendor.businessRegistrationNumber?.toLowerCase() || '').includes(lowerCaseSearch)\n  );\n  setFilteredVendors(results);\n}, [searchTerm, vendors]);\n```\n\n### 3. POSelectionPage\n**File:** `app/(main)/procurement/goods-received-note/new/po-selection/page.tsx`\n\n**Purpose:** Purchase Order selection for GRN item population\n\n**Key Features:**\n- **Filtered PO Display**: Shows only POs from selected vendor\n- **Multi-selection Support**: Choose multiple POs for consolidated GRN\n- **Status Validation**: Only available/partially received POs shown\n- **Auto-calculation**: Preview GRN totals from selected POs\n\n### 4. GRNDetailPage\n**File:** `app/(main)/procurement/goods-received-note/[id]/page.tsx`\n\n**Purpose:** Dynamic route handler for GRN detail operations\n\n**Responsibilities:**\n- URL parameter parsing (`id` and `mode`)\n- Data fetching based on GRN ID\n- Mode determination and routing\n- Error handling for invalid IDs\n\n**Route Patterns:**\n- `/goods-received-note/[id]` - View existing GRN\n- `/goods-received-note/[id]?mode=edit` - Edit mode\n- `/goods-received-note/new-[uuid]?mode=confirm` - Confirm new GRN\n- `/goods-received-note/[id]?mode=add` - Add mode\n\n## Form Components\n\n### 1. GoodsReceiveNoteDetail (Main Form Container)\n**File:** `components/GoodsReceiveNoteDetail.tsx`\n\n**Purpose:** Comprehensive GRN management interface with multi-mode support\n\n**Mode System:**\n```typescript\nexport type GRNDetailMode = GoodsReceiveNoteMode | 'confirm';\n// Supports: 'view' | 'edit' | 'add' | 'confirm'\n```\n\n**Key State Management:**\n```typescript\nconst [formData, setFormData] = useState<GoodsReceiveNote>(initialData)\nconst [currentMode, setCurrentMode] = useState<GRNDetailMode>(mode)\nconst [extraCosts, setExtraCosts] = useState<ExtraCost[]>([])\nconst [selectedItems, setSelectedItems] = useState<string[]>([])\nconst [expandedItems, setExpandedItems] = useState<string[]>([])\nconst [hasUnsavedChanges, setHasUnsavedChanges] = useState(false)\nconst [isLoading, setIsLoading] = useState(false)\n```\n\n**Mode-Aware Behavior:**\n```typescript\nconst isReadOnly = currentMode === 'view' || currentMode === 'confirm';\n\nconst handleModeChange = (newMode: GRNDetailMode) => {\n  setCurrentMode(newMode);\n  if (onModeChange) {\n    onModeChange(newMode);\n  }\n}\n```\n\n### 2. Header Information Form\n**Location:** Within GoodsReceiveNoteDetail component\n\n**Field Structure:**\n```typescript\n// Grid Layout: 6 columns responsive\n<div className=\"grid grid-cols-6 gap-6\">\n  {/* Row 1: Reference, Dates, Invoice Details */}\n  <div className=\"space-y-2 col-span-1\">\n    <Label htmlFor=\"ref\">Requisition</Label>\n    <Input id=\"ref\" readOnly value={formData.ref} />\n  </div>\n\n  <div className=\"space-y-2 col-span-1\">\n    <Label htmlFor=\"date\">Date</Label>\n    <Input id=\"date\" type=\"date\" readOnly={isReadOnly}\n           value={formData.date ? format(new Date(formData.date), 'yyyy-MM-dd') : ''}\n           onChange={e => setFormData({...formData, date: new Date(e.target.value)})} />\n  </div>\n\n  // ... additional fields\n</div>\n```\n\n**Field Categories:**\n- **Reference Fields**: Requisition number (read-only)\n- **Date Fields**: GRN date, invoice date, tax invoice date\n- **Invoice Fields**: Invoice number, tax invoice number\n- **Description**: Multi-line text area\n- **Selection Fields**: Receiver, vendor, currency, cash book\n- **Status Field**: Current GRN status (read-only)\n- **Flag Fields**: Consignment, cash transaction checkboxes\n\n**Validation Rules:**\n- Date fields use HTML5 date input with format validation\n- Required fields: Date, vendor, receiver\n- Conditional field enabling based on mode (isReadOnly)\n- Real-time change tracking for unsaved changes indicator\n\n### 3. Item Detail Forms\n**File:** `components/tabs/itemDetailForm.tsx`\n\n**Purpose:** Individual GRN item management\n\n**Field Structure:**\n- **Product Information**: Name, description, specifications\n- **Quantity Management**: Ordered, received, remaining quantities\n- **Unit Handling**: Order unit, base unit, conversion factors\n- **Pricing**: Unit price, subtotal, discounts, taxes\n- **Status Tracking**: Item status and PO reference\n\n**Calculation Logic:**\n```typescript\n// Auto-calculation of item totals\nconst subTotalPrice = orderedQuantity * unitPrice;\nconst discountAmount = subTotalPrice * (discountRate / 100);\nconst netAmount = subTotalPrice - discountAmount;\nconst taxAmount = netAmount * (taxRate / 100);\nconst totalAmount = netAmount + taxAmount;\n```\n\n## Dialog Components\n\n### 1. New GRN Process Selection Dialog\n**Purpose:** Choose between PO-based and manual GRN creation\n\n**Interface Elements:**\n- **Option Cards**: Visual selection between creation methods\n- **Process Type State**: Tracks selected creation path\n- **Routing Logic**: Navigation to appropriate next step\n\n**User Flow:**\n1. Click \"New GRN\" button\n2. Dialog presents two options\n3. Selection triggers appropriate workflow\n4. Dialog closes and navigates to next step\n\n### 2. Item Add/Edit Dialogs\n**Purpose:** Manage individual GRN items\n\n**Add Item Dialog:**\n- **Product Search**: Searchable product catalog\n- **Quantity Input**: Ordered and received quantities\n- **Pricing Setup**: Unit price, discount, tax configuration\n- **Validation**: Required fields and business rules\n\n**Edit Item Dialog:**\n- **Pre-populated Fields**: Current item values\n- **Change Tracking**: Monitor modifications\n- **Impact Calculation**: Update totals on changes\n\n### 3. Bulk Actions Confirmation\n**Purpose:** Confirm bulk operations on selected items\n\n**Actions Supported:**\n- **Delete Items**: Remove multiple items with confirmation\n- **Mark as Received**: Update quantities for multiple items\n- **Update Pricing**: Bulk price adjustments\n- **Status Changes**: Mass status updates\n\n## Tab Components\n\n### 1. GoodsReceiveNoteItems\n**File:** `components/tabs/GoodsReceiveNoteItems.tsx`\n\n**Purpose:** Comprehensive item management interface\n\n**Key Features:**\n- **Item Listing**: Table view with sortable columns\n- **Selection Management**: Individual and bulk selection\n- **Inline Editing**: Direct item modification\n- **Add Item Functionality**: New item creation\n- **Bulk Actions**: Multi-item operations\n\n**State Integration:**\n```typescript\ninterface GoodsReceiveNoteItemsProps {\n  mode: GRNDetailMode\n  items: GoodsReceiveNoteItem[]\n  onItemsChange: (items: GoodsReceiveNoteItem[]) => void\n  selectedItems: string[]\n  onItemSelect: (itemId: string, isSelected: boolean) => void\n  exchangeRate: number\n  baseCurrency: string\n  currency: string\n}\n```\n\n**Item Actions:**\n- **Edit**: Inline or popup editing\n- **Delete**: Individual item removal\n- **Split**: Divide quantities for partial receipts\n- **Status Update**: Change item status\n\n### 2. ExtraCostsTab\n**File:** `components/tabs/ExtraCostsTab.tsx`\n\n**Purpose:** Additional cost management and allocation\n\n**Features:**\n- **Cost Entry**: Description, amount, currency\n- **Allocation Methods**: Even, weighted, manual distribution\n- **Cost Preview**: Impact on item costs\n- **Real-time Updates**: Automatic total recalculation\n\n**Allocation Types:**\n```typescript\ntype AllocationType = 'even' | 'weighted' | 'manual'\n\ninterface ExtraCost {\n  id: string\n  description: string\n  amount: number\n  currency: string\n  allocationType: AllocationType\n  allocation: ExtraCostAllocation[]\n}\n```\n\n### 3. StockMovementTab\n**File:** `components/tabs/StockMovementTab.tsx`\n\n**Purpose:** Inventory impact visualization and management\n\n**Components:**\n- **Movement Summary**: Overview of stock changes\n- **Item Impact**: Per-item inventory effects\n- **Location Tracking**: Stock movement between locations\n- **Status Updates**: Movement processing status\n\n**Stock Movement Display:**\n```typescript\ninterface StockMovement {\n  id: string\n  itemId: string\n  productId: string\n  movementType: 'IN' | 'OUT' | 'TRANSFER'\n  quantity: number\n  fromLocation?: string\n  toLocation: string\n  unitCost: number\n  totalCost: number\n  movementDate: Date\n  status: 'Pending' | 'Processed' | 'Cancelled'\n}\n```\n\n### 4. FinancialSummaryTab\n**File:** `components/tabs/FinancialSummaryTab.tsx`\n\n**Purpose:** Financial calculations and journal entry preview\n\n**Financial Display:**\n- **Subtotals**: Pre-tax amounts\n- **Discounts**: Total discount amounts\n- **Tax Calculations**: Tax breakdown by rate\n- **Currency Conversion**: Base currency equivalents\n- **Journal Preview**: Expected accounting entries\n\n**Calculation Engine:**\n```typescript\nconst calculateFinancialSummary = (): FinancialSummary => {\n  const netAmount = formData.items.reduce((sum, item) => sum + item.netAmount, 0);\n  const taxAmount = formData.items.reduce((sum, item) => sum + item.taxAmount, 0);\n  const totalAmount = netAmount + taxAmount;\n  const exchangeRate = formData.exchangeRate || 1.2;\n\n  return {\n    id: formData.financialSummary?.id || 'temp-summary-1',\n    netAmount,\n    taxAmount,\n    totalAmount,\n    currency: formData.currency,\n    baseNetAmount: netAmount * exchangeRate,\n    baseTaxAmount: taxAmount * exchangeRate,\n    baseTotalAmount: totalAmount * exchangeRate,\n    baseCurrency: formData.baseCurrency || 'USD',\n    // ... journal entry details\n  };\n};\n```\n\n## Utility Components\n\n### 1. GoodsReceiveNoteItemsBulkActions\n**File:** `components/tabs/GoodsReceiveNoteItemsBulkActions.tsx`\n\n**Purpose:** Bulk operations interface for selected items\n\n**Action Types:**\n- **Delete Selected**: Remove multiple items with confirmation\n- **Mark as Received**: Update received quantities\n- **Apply Discount**: Bulk discount application\n- **Update Status**: Mass status changes\n\n**Interface:**\n```typescript\ninterface BulkActionsProps {\n  selectedItems: string[]\n  onBulkAction: (action: string) => void\n}\n```\n\n### 2. SummaryTotal\n**File:** `components/SummaryTotal.tsx`\n\n**Purpose:** Financial summary display with real-time calculations\n\n**Features:**\n- **Total Calculation**: Sum of all items and extra costs\n- **Currency Display**: Primary and base currency amounts\n- **Tax Breakdown**: Detailed tax calculations\n- **Exchange Rate Impact**: Currency conversion effects\n\n**Display Format:**\n```typescript\ninterface SummaryTotalProps {\n  poData: GoodsReceiveNote\n}\n\n// Displays:\n// - Subtotal (pre-discount)\n// - Discount Amount\n// - Net Amount\n// - Tax Amount\n// - Total Amount\n// - Base Currency Equivalents\n```\n\n### 3. FormFooter\n**File:** `@/components/ui/form-footer`\n\n**Purpose:** Consistent form action interface\n\n**Mode-Aware Actions:**\n- **View Mode**: Edit button\n- **Edit Mode**: Save, Cancel buttons\n- **Confirm Mode**: Custom action buttons\n- **Loading States**: Disabled buttons with spinners\n\n**Change Tracking:**\n```typescript\n<FormFooter\n  mode={currentMode}\n  onSave={handleSave}\n  onCancel={handleCancelEdit}\n  onEdit={handleEditClick}\n  isLoading={isLoading}\n  hasChanges={hasUnsavedChanges}\n>\n  {hasUnsavedChanges ? 'You have unsaved changes' : 'No changes made'}\n</FormFooter>\n```\n\n### 4. FloatingActionMenu\n**File:** `@/components/ui/form-footer`\n\n**Purpose:** Context-specific floating action buttons\n\n**Visibility Rules:**\n```typescript\n<FloatingActionMenu\n  visible={currentMode === 'confirm' || (currentMode === 'view' && formData.status === 'Received')}\n  position=\"bottom-right\"\n  summary={{\n    title: currentMode === 'confirm' ? 'Confirmation Required' : 'GRN Status',\n    description: currentMode === 'confirm'\n      ? 'Review all details before saving'\n      : `Status: ${formData.status}`,\n    metadata: `${formData.items?.length || 0} items to process`\n  }}\n  actions={getFloatingActions()}\n/>\n```\n\n**Context Actions:**\n- **Confirm Mode**: Edit Further, Confirm & Save\n- **View Mode**: Delete, Send, Print, Export\n\n## Data Components\n\n### 1. GRN Creation Store (Zustand)\n**File:** `lib/store/grn-creation.store.ts`\n\n**Purpose:** Global state management for GRN creation workflow\n\n**Store Structure:**\n```typescript\ninterface GRNCreationStore {\n  // State\n  selectedVendor: Vendor | null\n  selectedPOs: PurchaseOrder[]\n  currentStep: 'vendor-selection' | 'po-selection' | 'grn-creation'\n  newlyCreatedGRNData: GoodsReceiveNote | null\n\n  // Actions\n  setSelectedVendor: (vendor: Vendor) => void\n  setSelectedPOs: (pos: PurchaseOrder[]) => void\n  setStep: (step: string) => void\n  setNewlyCreatedGRNData: (data: GoodsReceiveNote) => void\n  clearCreationData: () => void\n}\n```\n\n**Usage Pattern:**\n```typescript\nconst {\n  selectedVendor,\n  setSelectedVendor,\n  setStep,\n  newlyCreatedGRNData,\n  setNewlyCreatedGRNData\n} = useGRNCreationStore()\n```\n\n### 2. Data Tables and Lists\n**Purpose:** Display GRN and related data in structured formats\n\n**Table Components:**\n- **GRN List Table**: Main GRN listing with sorting and filtering\n- **Vendor Selection Table**: Vendor display with search\n- **PO Selection Table**: Purchase order selection interface\n- **Item Management Table**: GRN item listing and editing\n\n**Common Features:**\n- **Sorting**: Column-based sorting\n- **Filtering**: Search and filter capabilities\n- **Pagination**: Large dataset handling\n- **Selection**: Single and multi-select support\n\n### 3. Mock Data Integration\n**File:** Various mock data files\n\n**Data Sources:**\n- **Mock GRNs**: Sample GRN data for development\n- **Mock Vendors**: Vendor information for selection\n- **Mock Products**: Product catalog for item creation\n- **Mock Users**: User data for receiver selection\n\n## Component Interactions\n\n### Data Flow Between Components\n\n```mermaid\ngraph TD\n    A[GRN Landing Page] --> B[Creation Store]\n    A --> C[Vendor Selection]\n\n    C --> B\n    C --> D[PO Selection]\n\n    D --> B\n    D --> E[GRN Detail]\n\n    E --> F[Header Form]\n    E --> G[Items Tab]\n    E --> H[Extra Costs Tab]\n    E --> I[Stock Movement Tab]\n    E --> J[Financial Summary Tab]\n\n    G --> K[Item Detail Forms]\n    G --> L[Bulk Actions]\n\n    F --> M[Form Data State]\n    G --> M\n    H --> M\n\n    M --> N[Summary Total]\n    M --> O[Financial Calculations]\n\n    E --> P[Floating Actions]\n    E --> Q[Form Footer]\n\n    P --> R[Context Actions]\n    Q --> S[Standard Actions]\n```\n\n### Event Handling\n\n**Parent-Child Communication:**\n- **Props Drilling**: Data and event handlers passed down\n- **Callback Functions**: Child components notify parents of changes\n- **State Lifting**: Shared state managed at appropriate levels\n\n**State Synchronization:**\n- **Form Data Updates**: Changes propagate through component tree\n- **Financial Recalculation**: Automatic totals update on item changes\n- **Mode Changes**: UI adaptation based on current mode\n\n**Navigation Events:**\n- **Router Push**: Programmatic navigation between pages\n- **URL Parameters**: Mode and state information in URL\n- **Store Updates**: Global state changes for cross-page data\n\n### Error Handling\n\n**Component-Level Errors:**\n- **Form Validation**: Field-level validation with error display\n- **API Errors**: Graceful handling of network failures\n- **State Errors**: Recovery from invalid state conditions\n\n**User Feedback:**\n- **Loading States**: Visual feedback during async operations\n- **Success Messages**: Confirmation of successful actions\n- **Error Messages**: Clear error communication and recovery options\n\n---\n\n*Generated on: Latest*\n*Component Documentation Version: 1.0*";

        // Initialize mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });

        // Configure marked
        marked.setOptions({
            highlight: function(code, lang) {
                return code;
            },
            breaks: true,
            gfm: true
        });

        // Render markdown
        document.getElementById('markdown-content').innerHTML = marked.parse(markdownContent);

        // Render mermaid diagrams
        mermaid.contentLoaded();
    </script>
</body>
</html>