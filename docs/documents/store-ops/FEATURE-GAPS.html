<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature Gaps and Future Development - Carmen ERP Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2563eb;
            --secondary: #64748b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg-light: #f8fafc;
            --bg-white: #ffffff;
            --text-primary: #0f172a;
            --text-secondary: #64748b;
            --border: #e2e8f0;
            --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: var(--bg-light);
            color: var(--text-primary);
            line-height: 1.6;
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 280px;
            background: var(--bg-white);
            border-right: 1px solid var(--border);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            padding: 2rem 0;
        }

        .sidebar-header {
            padding: 0 1.5rem;
            margin-bottom: 2rem;
        }

        .sidebar-header h1 {
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }

        .back-link:hover {
            color: var(--primary);
        }

        .sidebar nav {
            padding: 0 1rem;
        }

        .nav-section {
            margin-bottom: 1.5rem;
        }

        .nav-section h3 {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--text-secondary);
            padding: 0 0.5rem;
            margin-bottom: 0.5rem;
        }

        .nav-section ul {
            list-style: none;
        }

        .nav-section a {
            display: block;
            padding: 0.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .nav-section a:hover,
        .nav-section a.active {
            background: var(--bg-light);
            color: var(--primary);
        }

        .main-content {
            margin-left: 280px;
            flex: 1;
            padding: 2rem;
            max-width: calc(100% - 280px);
        }

        .breadcrumb {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }

        .breadcrumb a {
            color: var(--primary);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .content-wrapper {
            display: flex;
            gap: 2rem;
        }

        .document-content {
            flex: 1;
            background: var(--bg-white);
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: var(--shadow);
            min-width: 0;
        }

        .toc-sidebar {
            width: 250px;
            flex-shrink: 0;
        }

        .toc-sticky {
            position: sticky;
            top: 2rem;
            background: var(--bg-white);
            padding: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: var(--shadow);
        }

        .toc-title {
            font-size: 0.875rem;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .toc-list {
            list-style: none;
        }

        .toc-list a {
            display: block;
            padding: 0.25rem 0;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.875rem;
            transition: color 0.2s;
        }

        .toc-list a:hover {
            color: var(--primary);
        }

        .toc-list .toc-h2 {
            margin-left: 0;
            font-weight: 500;
        }

        .toc-list .toc-h3 {
            margin-left: 1rem;
            font-size: 0.8125rem;
        }

        .toc-list .toc-h4 {
            margin-left: 2rem;
            font-size: 0.75rem;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        h2 {
            font-size: 1.5rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border);
            color: var(--text-primary);
        }

        h3 {
            font-size: 1.25rem;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
        }

        h4 {
            font-size: 1.125rem;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        p {
            margin-bottom: 1rem;
        }

        ul, ol {
            margin-bottom: 1rem;
            padding-left: 2rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        code {
            background: var(--bg-light);
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.875rem;
        }

        pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin-bottom: 1rem;
        }

        pre code {
            background: transparent;
            padding: 0;
            color: inherit;
        }

        blockquote {
            border-left: 4px solid var(--primary);
            padding-left: 1rem;
            margin: 1rem 0;
            color: var(--text-secondary);
            font-style: italic;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
        }

        th, td {
            border: 1px solid var(--border);
            padding: 0.75rem;
            text-align: left;
        }

        th {
            background: var(--bg-light);
            font-weight: 600;
        }

        a {
            color: var(--primary);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        hr {
            border: none;
            border-top: 1px solid var(--border);
            margin: 2rem 0;
        }

        img {
            max-width: 600px;
            height: auto;
            border-radius: 0.5rem;
            border: 1px solid var(--border);
            margin: 1rem 0;
            display: block;
        }

        .mermaid {
            background: var(--bg-white);
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1.5rem 0;
            display: flex;
            justify-content: center;
            border: 1px solid var(--border);
            max-width: 800px;
            overflow-x: auto;
        }

        .mermaid svg {
            max-width: 100%;
            max-height: 500px;
            height: auto;
            transform: scale(0.85);
            transform-origin: top center;
        }

        @media (max-width: 1024px) {
            .sidebar {
                display: none;
            }

            .main-content {
                margin-left: 0;
                max-width: 100%;
            }

            .toc-sidebar {
                display: none;
            }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';

        // Initialize Mermaid with enhanced configuration
        mermaid.initialize({
            startOnLoad: false,
            theme: 'default',
            themeVariables: {
                primaryColor: '#2563eb',
                primaryTextColor: '#0f172a',
                primaryBorderColor: '#1e40af',
                lineColor: '#64748b',
                secondaryColor: '#10b981',
                tertiaryColor: '#f59e0b',
                background: '#ffffff',
                mainBkg: '#f8fafc',
                secondBkg: '#e2e8f0',
                border1: '#cbd5e1',
                border2: '#94a3b8'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            },
            sequence: {
                useMaxWidth: true,
                wrap: true
            },
            gantt: {
                useMaxWidth: true
            }
        });

        // Expose mermaid globally and signal it's ready
        window.mermaid = mermaid;
        window.mermaidReady = true;

        // Dispatch event when mermaid is ready
        window.dispatchEvent(new Event('mermaidLoaded'));
    </script>
</head>
<body>
    <aside class="sidebar">
        <div class="sidebar-header">
            <a href="../index.html" class="back-link">‚Üê All Modules</a>
            <h1>Store Operations</h1>
        </div>

        <nav>
            <div class="nav-section">
                <h3>Navigation</h3>
                <ul>
                    <li><a href="../index.html">Module Overview</a></li>
                    <li><a href="../index.html#features">Features</a></li>
                </ul>
            </div>
        </nav>
    </aside>

    <div class="main-content">
        <div class="breadcrumb"><a href="../index.html">Documentation</a> / <a href="../index.html">STORE-OPS</a></div>

        <div class="content-wrapper">
            <div class="document-content" id="markdown-content"></div>

            <aside class="toc-sidebar">
                <div class="toc-sticky">
                    <div class="toc-title">On This Page</div>
                    <ul class="toc-list" id="toc-list"></ul>
                </div>
            </aside>
        </div>
    </div>

    <script>
        const markdownContent = "# Feature Gaps and Future Development\n\n**Module**: Store Operations\n**Last Updated**: 2025-10-02\n\n## Table of Contents\n\n1. [Overview](#overview)\n2. [Store Requisitions Gaps](#store-requisitions-gaps)\n3. [Stock Replenishment Gaps](#stock-replenishment-gaps)\n4. [Wastage Reporting Gaps](#wastage-reporting-gaps)\n5. [Cross-Module Gaps](#cross-module-gaps)\n6. [Priority Matrix](#priority-matrix)\n\n---\n\n## Overview\n\nThis document tracks incomplete features, missing functionality, and future development needs for the Store Operations module. Features are categorized by priority:\n\n- **P0** (Critical): Blocks core functionality, required for production\n- **P1** (High): Important for user experience, needed soon\n- **P2** (Medium): Enhances functionality, nice to have\n- **P3** (Low): Future enhancements, not currently blocking\n\n---\n\n## Store Requisitions Gaps\n\n### Missing Features\n\n#### 1. Comments Tab (P1)\n**Status**: Not Implemented\n**Current**: Tab does not exist in detail page\n**Expected**:\n- Comments tab in requisition detail page\n- Add comment functionality\n- Comment thread display\n- User avatars and timestamps\n- Edit/delete own comments\n- Notification on new comments\n\n**Related Components**: Would need `CommentsTab` component\n\n---\n\n#### 2. Attachments Tab (P1)\n**Status**: Not Implemented\n**Current**: Tab does not exist in detail page\n**Expected**:\n- Attachments tab in requisition detail page\n- File upload (PDF, images, Excel)\n- File preview\n- Download attachments\n- Delete attachments\n- File metadata (name, size, uploaded by, date)\n- Public/private attachment flags\n\n**Related Components**: Would need `AttachmentsTab` component\n\n---\n\n#### 3. Activity Log Tab (P1)\n**Status**: Not Implemented\n**Current**: Tab does not exist in detail page\n**Expected**:\n- Activity log tab in requisition detail page\n- Chronological activity feed\n- System and user actions\n- Field change tracking\n- Timestamp and user attribution\n- Filter by action type\n\n**Sample Activities**:\n- Created requisition\n- Modified item quantities\n- Submitted for approval\n- Approved by HOD\n- Items issued\n- Status changed\n\n**Related Components**: Would need `ActivityLogTab` component\n\n---\n\n#### 4. Create/Edit Requisition Form (P0)\n**Status**: Not Implemented\n**Current**: \"New Request\" button exists but no form\n**Expected**:\n- Create new requisition form\n- Edit existing draft requisitions\n- Add/remove line items\n- Item selection with search\n- Quantity and cost input\n- Expected delivery date picker\n- Description and notes\n- Save as draft\n- Submit for approval\n- Form validation\n\n**Related Components**:\n- `CreateRequisitionForm`\n- `EditRequisitionForm`\n- `ItemSelector` component\n\n---\n\n#### 5. Void Requisition Flow (P2)\n**Status**: Action exists but not implemented\n**Current**: \"Void\" option in actions menu\n**Expected**:\n- Void confirmation dialog\n- Reason for voiding (required)\n- Permission check (manager level required)\n- Update status to \"Void\"\n- Prevent further edits\n- Reverse any stock movements\n- Activity log entry\n\n---\n\n#### 6. Copy Requisition (P2)\n**Status**: Action exists but not implemented\n**Current**: \"Copy\" option in actions menu\n**Expected**:\n- Duplicate existing requisition\n- New SR number generated\n- Status set to Draft\n- Original reference link\n- Editable before submission\n- Preserve items and quantities\n\n---\n\n#### 7. Print Requisition (P2)\n**Status**: Action exists but not implemented\n**Current**: \"Print\" option in header actions\n**Expected**:\n- Print-friendly layout\n- Header with company info\n- Requisition details\n- Item table with quantities and costs\n- Approval signatures section\n- Terms and conditions\n- PDF generation option\n\n---\n\n#### 8. Export Functionality (P2)\n**Status**: Buttons exist but not implemented\n**Current**: \"Export\" buttons on list and detail pages\n**Expected**:\n- Export to Excel\n- Export to PDF\n- Export to CSV\n- Custom column selection\n- Date range export\n- Filtered export (apply current filters)\n\n---\n\n#### 9. Saved Filters (P2)\n**Status**: Button exists but not functional\n**Current**: \"Saved Filters\" button on list page\n**Expected**:\n- Save current filter configuration\n- Name saved filters\n- Load saved filters\n- Delete saved filters\n- Share filters with team\n- Default filter option\n\n---\n\n#### 10. Item-Level Actions (P1)\n**Status**: Partially implemented\n**Current**: Can view item details, missing approval actions\n**Expected**:\n- Approve item button (for approvers)\n- Reject item button (for approvers)\n- Request changes (send back to requester)\n- Adjust approved quantity\n- Add item-level comments\n- View approval history per item\n\n---\n\n#### 11. Bulk Actions (P2)\n**Status**: Not implemented\n**Current**: Individual row actions only\n**Expected**:\n- Select multiple requisitions\n- Bulk export\n- Bulk status update (if permitted)\n- Bulk delete (drafts only)\n- Bulk print\n\n---\n\n#### 12. Real-Time Notifications (P1)\n**Status**: Not implemented\n**Current**: No notification system\n**Expected**:\n- In-app notifications\n- Email notifications\n- Push notifications (mobile)\n- Notification for:\n  - Requisition submitted\n  - Approval request\n  - Approved/rejected\n  - Items issued\n  - Comments added\n\n---\n\n## Stock Replenishment Gaps\n\n### Critical Infrastructure Gaps\n\n#### 1. Backend API Integration (P0)\n**Status**: Using Mock Data\n**Current**: All data is hardcoded in component\n**Expected**:\n- API endpoints for stock data\n- Real-time stock levels\n- Database queries for inventory\n- Location filtering\n- Search functionality\n- Sorting and pagination\n\n---\n\n#### 2. Create Requisition Flow (P0)\n**Status**: Button exists but non-functional\n**Current**: \"Create Requisition\" button present\n**Expected**:\n- Pre-select low stock items\n- Auto-calculate order quantities (to reach par level)\n- Navigate to requisition form with pre-filled data\n- Allow quantity adjustments\n- Submit to approval workflow\n\n---\n\n#### 3. Item Detail View (P1)\n**Status**: Not implemented\n**Current**: Only table row display\n**Expected**:\n- Click item to view details\n- Stock history chart\n- Usage pattern analysis\n- Reorder history\n- Vendor information\n- Cost history\n\n---\n\n#### 4. Advanced Filtering (P2)\n**Status**: Basic filters only\n**Current**: Location and status dropdowns\n**Expected**:\n- Filter by category\n- Filter by vendor\n- Filter by usage pattern\n- Multi-location selection\n- Stock status range filters\n- Custom filter builder\n\n---\n\n#### 5. Automated Alerts (P1)\n**Status**: Static alert banner\n**Current**: Shows generic message\n**Expected**:\n- Real-time low stock alerts\n- Critical stock notifications\n- Overstock warnings\n- Configurable alert thresholds\n- Alert dismissal\n- Alert history\n\n---\n\n#### 6. Stock Transfer Suggestions (P2)\n**Status**: Not implemented\n**Current**: No transfer capability\n**Expected**:\n- Identify surplus in one location\n- Suggest transfers to deficit locations\n- Create transfer requisitions\n- Cost comparison (transfer vs order)\n\n---\n\n#### 7. Vendor Integration (P2)\n**Status**: Shows last vendor only\n**Current**: Basic vendor info in table\n**Expected**:\n- Link to vendor details\n- Vendor performance metrics\n- Alternative vendor suggestions\n- Vendor comparison\n- Direct PO creation\n\n---\n\n#### 8. Usage Forecasting (P3)\n**Status**: Not implemented\n**Current**: No predictive features\n**Expected**:\n- AI/ML-based demand forecasting\n- Seasonal pattern recognition\n- Suggested order quantities\n- Optimal order timing\n- Waste reduction predictions\n\n---\n\n## Wastage Reporting Gaps\n\n### Critical Infrastructure Gaps\n\n#### 1. Backend API Integration (P0)\n**Status**: Using Mock Data\n**Current**: All data is hardcoded\n**Expected**:\n- API endpoints for wastage data\n- Database storage\n- Real-time updates\n- User authentication\n- Permission validation\n\n---\n\n#### 2. Report Wastage Form (P0)\n**Status**: Button exists but non-functional\n**Current**: \"Report Wastage\" button present\n**Expected**:\n- Create wastage entry form\n- Item selection with search\n- Quantity input with validation\n- Reason selection (required)\n- Reason details (for \"Other\")\n- Photo upload capability\n- Location selection\n- Date picker (with constraints)\n- Submit for review\n- Save as draft\n\n---\n\n#### 3. Approval Workflow (P1)\n**Status**: Status shown but no workflow\n**Current**: Status badge display only\n**Expected**:\n- Multi-level approval workflow\n- Department manager approval (< $1000)\n- Store manager approval (< $5000)\n- Financial manager approval (> $5000)\n- Approval comments\n- Rejection with reason\n- Email notifications\n- Escalation rules\n\n---\n\n#### 4. Edit Wastage Entry (P1)\n**Status**: Not implemented\n**Current**: No edit functionality\n**Expected**:\n- Edit pending entries only\n- Modify quantity, reason, details\n- Add/change photos\n- Re-submit for approval\n- Track modification history\n- Require re-approval if significant changes\n\n---\n\n#### 5. Delete Wastage Entry (P2)\n**Status**: Not implemented\n**Current**: No delete option\n**Expected**:\n- Delete draft entries\n- Void approved entries (manager only)\n- Confirmation dialog\n- Reason for deletion/void\n- Audit trail preservation\n\n---\n\n#### 6. Photo Evidence Upload (P1)\n**Status**: Not implemented\n**Current**: No photo upload capability\n**Expected**:\n- Multi-photo upload\n- Image compression\n- Preview thumbnails\n- Image viewer/gallery\n- Photo metadata\n- Required for Quality Issues\n- Optional for other reasons\n\n---\n\n#### 7. Export and Reporting (P2)\n**Status**: Not implemented\n**Current**: No export functionality\n**Expected**:\n- Export to Excel/PDF/CSV\n- Custom date ranges\n- Filter by reason/location/status\n- Summary reports\n- Detailed item reports\n- Trend analysis reports\n\n---\n\n#### 8. Advanced Analytics (P2)\n**Status**: Basic charts only\n**Current**: Simple line and pie charts\n**Expected**:\n- Wastage by department\n- Wastage by category\n- Wastage by time of day/week\n- Vendor correlation analysis\n- Storage condition correlation\n- Predictive wastage alerts\n- Cost impact projections\n\n---\n\n#### 9. Corrective Action Tracking (P3)\n**Status**: Not implemented\n**Current**: No action tracking\n**Expected**:\n- Link wastage to corrective actions\n- Action item creation\n- Responsibility assignment\n- Completion tracking\n- Effectiveness measurement\n- Recurring pattern identification\n\n---\n\n## Cross-Module Gaps\n\n### Integration Gaps\n\n#### 1. Inventory Management Integration (P0)\n**Status**: Not integrated\n**Expected**:\n- Real-time stock updates\n- Automatic stock adjustments on SR approval\n- Stock movement records\n- Lot/batch tracking\n- Serial number tracking\n- Location transfer recording\n\n---\n\n#### 2. Procurement Integration (P1)\n**Status**: Not integrated\n**Expected**:\n- Create PO from stock alerts\n- Link SRs to POs\n- Vendor selection from SR\n- Cost data sync\n- Lead time integration\n\n---\n\n#### 3. Finance Integration (P1)\n**Status**: Partially implemented (Journal Entries tab)\n**Expected**:\n- Automatic journal entry posting\n- Cost center allocation\n- Budget checking\n- Variance analysis\n- Financial reporting\n\n---\n\n#### 4. User Management Integration (P0)\n**Status**: Not integrated\n**Expected**:\n- Role-based access control\n- Permission validation\n- User profile integration\n- Department/location assignment\n- Approval hierarchy configuration\n\n---\n\n### UI/UX Gaps\n\n#### 1. Mobile Responsiveness (P1)\n**Status**: Partially responsive\n**Issues**:\n- Tables overflow on mobile\n- Complex forms difficult on small screens\n- Touch targets too small in some areas\n- Some features hidden on mobile\n\n**Expected**:\n- Fully responsive layouts\n- Mobile-optimized forms\n- Swipe gestures\n- Bottom sheet modals\n- Hamburger menus\n- Progressive disclosure\n\n---\n\n#### 2. Accessibility (P1)\n**Status**: Basic accessibility only\n**Gaps**:\n- Missing ARIA labels in some areas\n- Keyboard navigation incomplete\n- Screen reader support limited\n- Color contrast issues in charts\n- Focus indicators missing\n\n**Expected**:\n- WCAG 2.1 AA compliance\n- Full keyboard navigation\n- Screen reader compatibility\n- High contrast mode\n- Focus management\n\n---\n\n#### 3. Performance Optimization (P2)\n**Status**: Works but not optimized\n**Issues**:\n- Large tables slow to render\n- Charts re-render unnecessarily\n- No data virtualization\n- Large payload sizes\n\n**Expected**:\n- Virtual scrolling for tables\n- Memoized chart components\n- Code splitting\n- Lazy loading\n- Pagination optimization\n- Request debouncing\n\n---\n\n#### 4. Offline Support (P3)\n**Status**: Not implemented\n**Expected**:\n- Service worker integration\n- Offline data caching\n- Queue actions when offline\n- Sync when connection restored\n- Offline indicators\n\n---\n\n### Data and Analytics Gaps\n\n#### 1. Dashboard Customization (P2)\n**Status**: Fixed dashboard layout\n**Expected**:\n- Drag-and-drop widgets\n- Custom widget configuration\n- Save layout preferences\n- Multiple dashboard views\n- Role-based defaults\n\n---\n\n#### 2. Advanced Reporting (P2)\n**Status**: Basic reports only\n**Expected**:\n- Custom report builder\n- Scheduled reports\n- Report templates\n- Email delivery\n- Data visualization options\n- Comparative analysis\n\n---\n\n#### 3. Data Export Options (P2)\n**Status**: Limited export\n**Expected**:\n- Multiple format support (Excel, PDF, CSV, JSON)\n- Template-based exports\n- Scheduled exports\n- API export endpoints\n- Bulk export capabilities\n\n---\n\n## Priority Matrix\n\n### P0 - Critical (Blocks Production)\n1. Store Requisitions: Create/Edit Form\n2. Stock Replenishment: Backend API Integration\n3. Wastage Reporting: Backend API Integration\n4. Wastage Reporting: Report Wastage Form\n5. Inventory Integration\n6. User Management Integration\n\n**Timeline**: Must complete before production release\n\n---\n\n### P1 - High Priority (Soon)\n1. Store Requisitions: Comments Tab\n2. Store Requisitions: Attachments Tab\n3. Store Requisitions: Activity Log Tab\n4. Store Requisitions: Item-Level Actions\n5. Store Requisitions: Notifications\n6. Stock Replenishment: Create Requisition Flow\n7. Stock Replenishment: Automated Alerts\n8. Wastage Reporting: Approval Workflow\n9. Wastage Reporting: Photo Upload\n10. Procurement Integration\n11. Finance Integration\n12. Mobile Responsiveness\n13. Accessibility Compliance\n\n**Timeline**: Next 1-2 months\n\n---\n\n### P2 - Medium Priority (Nice to Have)\n1. All Export Functionality\n2. Saved Filters\n3. Bulk Actions\n4. Print Functionality\n5. Void/Copy Features\n6. Stock Replenishment: Advanced Filtering\n7. Stock Replenishment: Vendor Integration\n8. Wastage Reporting: Advanced Analytics\n9. Dashboard Customization\n10. Advanced Reporting\n11. Performance Optimization\n\n**Timeline**: 3-6 months\n\n---\n\n### P3 - Low Priority (Future)\n1. Usage Forecasting (AI/ML)\n2. Corrective Action Tracking\n3. Offline Support\n4. Advanced data visualization\n\n**Timeline**: 6+ months\n\n---\n\n## Implementation Notes\n\n### Technical Debt\n- **Mock Data Cleanup**: Remove all hardcoded data, replace with API calls\n- **Type Safety**: Add proper TypeScript interfaces for all data models\n- **Error Handling**: Implement comprehensive error handling\n- **Loading States**: Add proper loading indicators\n- **Form Validation**: Implement Zod schemas for all forms\n- **State Management**: Consider Zustand/Context for global state\n\n### Testing Requirements\n- **Unit Tests**: Components and utilities\n- **Integration Tests**: API integration and workflows\n- **E2E Tests**: Critical user journeys\n- **Accessibility Tests**: WCAG compliance\n- **Performance Tests**: Load testing and benchmarks\n\n### Documentation Needs\n- **API Documentation**: Endpoint specs\n- **Component Documentation**: Props and usage\n- **User Guides**: End-user documentation\n- **Admin Guides**: Configuration and setup\n- **Developer Guides**: Contribution guidelines\n\n---\n\n**Last Updated**: 2025-10-02\n**Total Gaps Identified**: 50+\n**Critical Gaps**: 6\n**High Priority Gaps**: 13\n";

        // Configure marked
        marked.setOptions({
            highlight: function(code, lang) {
                return code;
            },
            breaks: true,
            gfm: true
        });

        // Render markdown
        const contentDiv = document.getElementById('markdown-content');
        contentDiv.innerHTML = marked.parse(markdownContent);

        // Function to render Mermaid diagrams
        function renderMermaidDiagrams() {
            if (!window.mermaid) {
                console.log('Mermaid not loaded yet, waiting...');
                return;
            }

            // Find all code blocks with mermaid language
            const mermaidBlocks = contentDiv.querySelectorAll('pre code.language-mermaid, pre code[class*="mermaid"]');

            if (mermaidBlocks.length === 0) {
                console.log('No mermaid blocks found');
                return;
            }

            console.log('Found', mermaidBlocks.length, 'mermaid blocks');

            mermaidBlocks.forEach((block, index) => {
                const mermaidCode = block.textContent;
                const pre = block.parentElement;

                // Create a div for mermaid diagram
                const mermaidDiv = document.createElement('div');
                mermaidDiv.className = 'mermaid';
                mermaidDiv.textContent = mermaidCode;
                mermaidDiv.id = 'mermaid-diagram-' + index;

                // Replace the pre block with mermaid div
                pre.replaceWith(mermaidDiv);
            });

            // Run mermaid rendering
            window.mermaid.run({
                querySelector: '.mermaid'
            }).then(() => {
                console.log('Mermaid diagrams rendered successfully');
            }).catch(err => {
                console.error('Mermaid rendering error:', err);
            });
        }

        // Wait for mermaid to load before rendering
        if (window.mermaidReady) {
            renderMermaidDiagrams();
        } else {
            window.addEventListener('mermaidLoaded', renderMermaidDiagrams);
            // Fallback timeout
            setTimeout(renderMermaidDiagrams, 1000);
        }

        // Generate TOC from headings
        const tocList = document.getElementById('toc-list');
        const headings = contentDiv.querySelectorAll('h2, h3, h4');

        headings.forEach((heading, index) => {
            const id = 'heading-' + index;
            heading.id = id;

            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = '#' + id;
            a.textContent = heading.textContent;
            a.className = 'toc-' + heading.tagName.toLowerCase();

            li.appendChild(a);
            tocList.appendChild(li);
        });

        // Highlight active TOC item on scroll
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.id;
                    tocList.querySelectorAll('a').forEach(a => {
                        a.style.color = a.getAttribute('href') === '#' + id ? 'var(--primary)' : 'var(--text-secondary)';
                        a.style.fontWeight = a.getAttribute('href') === '#' + id ? '600' : '400';
                    });
                }
            });
        }, { threshold: 1.0 });

        headings.forEach(heading => observer.observe(heading));
    </script>
</body>
</html>